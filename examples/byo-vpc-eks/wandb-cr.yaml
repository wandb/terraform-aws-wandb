---
# Source: wandb-cr/templates/operator.yaml
apiVersion: apps.wandb.com/v1
kind: WeightsAndBiases
metadata:
  name: wandb
  namespace: byo-vpc-eks
  labels:
    app.kubernetes.io/name: weightsandbiases
    app.kubernetes.io/instance: wandb
spec: 
  "values":
    "global":
      "bucket":
        "kmsKey": "arn:aws:kms:us-east-2:423623857229:key/c7fafa10-ab32-4897-aca9-fe7a082de26c"
        "name": "lsahu-s3-bucket"
        "provider": "s3"
        "region": "us-east-2"
      "cloudProvider": "aws"
      "extraEnv": {}
      "host": "https://lsahu-byo-vpc-eks.wandb.ml"
      "license": "eyJhbGciOiJSUzI1NiIsImtpZCI6InUzaHgyQjQyQWhEUXM1M0xQY09yNnZhaTdoSlduYnF1bTRZTlZWd1VwSWM9In0.eyJjb25jdXJyZW50QWdlbnRzIjoxMCwiZGVwbG95bWVudElkIjoiZDQyOGY0MTctODdjMy00ZWQxLWI5YTgtNTI1YmU1NzdhM2E0IiwibWF4VGVhbXMiOjEwLCJtYXhSZWdpc3RlcmVkTW9kZWxzIjoxMDAwMDAwLCJtYXhVc2VycyI6MTAsIm1heFZpZXdPbmx5VXNlcnMiOjEwLCJtYXhTdG9yYWdlR2IiOjEwMDAwMDAwMDAsInRyaWFsIjp0cnVlLCJleHBpcmVzQXQiOiIyMDMwLTAyLTAxVDA1OjU5OjU5Ljk5OVoiLCJmbGFncyI6WyJTQ0FMQUJMRSIsIm15c3FsIiwiczMiLCJyZWRpcyIsIk5PVElGSUNBVElPTlMiLCJzbGFjayIsIm5vdGlmaWNhdGlvbnMiLCJNQU5BR0VNRU5UIiwib3JnX2Rhc2giLCJhdXRoMCIsImNvbGxlY3RfYXVkaXRfbG9ncyIsInJiYWMiLCJCWU9CIiwiYnlvYiJdLCJjb250cmFjdFN0YXJ0RGF0ZSI6IjIwMjUtMDUtMjlUMDQ6NTk6NTkuOTk5WiIsImFjY2Vzc0tleSI6ImQyNmE2NDZmLWZiZTktNDYyZC04NWU5LTFkNzU4ZDk1ZDZjZSIsInNlYXRzIjoxMCwidmlld09ubHlTZWF0cyI6MTAsInRlYW1zIjoxMCwicmVnaXN0ZXJlZE1vZGVscyI6MTAwMDAwMCwic3RvcmFnZUdpZ3MiOjEwMDAwMDAwMDAsImV4cCI6MTg5NjE1NTk5OSwid2VhdmVMaW1pdHMiOnsid2VhdmVMaW1pdEJ5dGVzIjoxMDAwMDAwMDAwMDAsIndlYXZlT3ZlcmFnZUNvc3RDZW50cyI6MCwid2VhdmVPdmVyYWdlVW5pdCI6Ik1CIn19.ZGZZMPoPCMuD7nxSZSZkl_HVmQnLJNm2KmDHBQldZEyqfhvS8Y0zBxJM7N85Et-KXQq4W4Igae1Ej76pxLAO5nR88KcQtquz48Iq7jQBY4fdGeg-LiMXhP-_klhXeuf_6Z3EJXeJxAK-fAeEsVBSYbY6C1ehD4Z_2nOcZoO0soNob9U6DXk9I4UnJjbmHx54mwIGbvq_leSpZN5CGbpJfobZ6ZU9l_IEop2L0A4j4wVyfR4kC-_2JfPo9Wab_glbQ2pBGsEtWkKpsVsUMtPFZbWCARtbrlh4midsZ5J321NWzOxkqYDUYXLGSfMckmkjQtB4nVscg9DuM4w9mxkyzw"
      "mysql":
        "database": "wandb_local"
        "host": "mysql.cluster-ctu6yug0q669.us-east-2.rds.amazonaws.com"
        "password": "SOME_PASSWORD"
        "port": 3306
        "user": "wandb_local"
      clickhouse:
        host: clickhouse-clickhouse.clickhouse.svc.cluster.local
        port: 8123
        password: weave123
        user: weave
        database: wandb_weave
        # This option must be true if replicating data across multiple nodes
        replicated: true
      weave-trace:
        enabled: true
      "redis":
        "external": false
        "host": ""
        "port": 6379
    weave-trace:
      install: true
      extraEnv:
        WF_CLICKHOUSE_REPLICATED: "true"
        WF_CLICKHOUSE_REPLICATED_CLUSTER: "clickhouse"

    "ingress":
      "annotations":
        "alb.ingress.kubernetes.io/inbound-cidrs": "0.0.0.0/0"
        "alb.ingress.kubernetes.io/listen-ports": "[{\"HTTPS\": 443}]"
        "alb.ingress.kubernetes.io/scheme": "internet-facing"
        "alb.ingress.kubernetes.io/target-type": "ip"
        "external-dns.alpha.kubernetes.io/hostname": "lsahu-byo-vpc-eks.wandb.ml"
      "class": "alb"
    "mysql":
      "install": false
    "redis":
      "install": true

